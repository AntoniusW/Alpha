apply plugin: 'antlr'
apply plugin: 'application'
apply plugin: 'checkstyle'
apply plugin: 'java'

sourceCompatibility = 1.8
targetCompatibility = 1.8

mainClassName = 'at.ac.tuwien.kr.alpha.Main'

repositories {
	mavenCentral()
}

dependencies {
	antlr group: 'org.antlr', name: 'antlr4', version: '4.5.3'

	compile group: 'net.sf.trove4j',  name: 'trove4j',         version: '3.0.3'
	compile group: 'commons-cli',     name: 'commons-cli',     version: '1.3.1'
	compile group: 'commons-logging', name: 'commons-logging', version: '1.2'
	compile group: 'junit',           name: 'junit',           version: '4.12'

	// NOTE(flowlo): JGraphT was used in OMiGA, the predecessor of Alpha.
	// We might need it, so I'll keep this here just in case.
	//compile group: 'org.jgrapht', name: 'jgrapht-core', version: '0.9.2'
}

task bundledJar(type: Jar) {
	manifest {
		attributes 'Main-Class': mainClassName
	}

	from {
		configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
	}

	archiveName = "${project.name}-bundled.jar"

	with jar
}